/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  LedDr.c
 *        \brief  
 *
 *      \details  
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Std_Types.h"
#include "00- Ext_Hw.h"
#include "GPIO.h"
#include "LedDr.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/	

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/
/*Array of pin configuration of the same number of leds*/
GPIO_PinCfg_type  PinCfg [LED_ATTCH_NUM];
/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/
 /******************************************************************************
* \Syntax          :                    
* \Description     : i
*                    i                            
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                     
* \Parameters (out): None                                                      
* \Return value:   : None
*******************************************************************************/
void LedDr_LedInit(LedIndex_type LedIndex)
{
	#if  LED_ATTCH_NUM == 1
	/*create one pin config var*/
	(*PinCfg).PinPort   = LED1_PORT ;
	(*PinCfg).PinIndex  = LED1_PIN;
	(*PinCfg).PinDir    = GPIO_PinDirO;
	(*PinCfg).PinMode   = DIOFnc_Pin;
	(*PinCfg).PinStrnth = DR8R;
	(*PinCfg).PinPuPd   = PULL_DOWN;
	#elif LED_ATTCH_NUM > 1
	uint8 i;
	INIT_LED_ARR;
	for (i=0;i<LED_ATTCH_NUM;i++)
	{
		PinCfg[i].PinDir    = GPIO_PinDirO;
		PinCfg[i].PinMode   = DIOFnc_Pin;
		PinCfg[i].PinStrnth = DR8R;
		PinCfg[i].PinPuPd   = PULL_DOWN;
	}
	#else error "Calling led init with no configured leds"
	/*pass the config parameters to gpio driver*/
	GPIO_CfgPins (PinCfg, LED_ATTCH_NUM);
}
void LedDrHigh (LedIndex_type LedIndex)
{
	GPIO_PinMan  (PinCfg[LedIndex].PinPort,PinCfg[LedIndex].PinIndix,GPIO_PinH);
}
void LedDrLow  (LedIndex_type LedIndex)
{
	GPIO_PinMan  (PinCfg[LedIndex].PinPort,PinCfg[LedIndex].PinIndix,GPIO_PinL);
}
void LedTog (LedIndex_type LedIndex)
{
	GPIO_PinTog  (PinCfg[LedIndex].PinPort,PinCfg[LedIndex].PinIndix);
}

/**********************************************************************************************************************
 *  END OF FILE: LedDr.c
 *********************************************************************************************************************/
